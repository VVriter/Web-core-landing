<template>
  <div class="stories-page">
    <!-- Page Header -->
    <div class="page-header">
      <h1 class="page-title">Instagram Stories - WebCore Agency</h1>
      <p class="page-description">–ö—Ä–µ–∞—Ç–∏–≤–∏ –¥–ª—è –°–ú–ú: "–ß–æ–º—É –æ–±–∏—Ä–∞—é—Ç—å WebCore"</p>
      <button class="download-all-btn" @click="downloadAllStories">
        <Icon name="mdi:download-multiple" size="lg" />
        –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ Stories (ZIP)
      </button>
      </div>

      <!-- Stories Grid -->
      <div class="stories-grid">
      <!-- Title Story -->
      <div class="story-item">
        <div class="story-frame">
          <div class="story title-story">
            <div class="story-background title-bg">
              <div class="gradient-overlay"></div>
              <div class="floating-elements">
                <div class="floating-icon icon-1">
                  <Icon name="mdi:rocket-launch" size="xl" />
                    </div>
                <div class="floating-icon icon-2">
                  <Icon name="mdi:star" size="lg" />
                    </div>
                <div class="floating-icon icon-3">
                  <Icon name="mdi:trending-up" size="lg" />
                  </div>
                <div class="floating-icon icon-4">
                  <Icon name="mdi:shield-check" size="lg" />
                      </div>
                <div class="floating-icon icon-5">
                  <Icon name="mdi:lightning-bolt" size="lg" />
                    </div>
              </div>
            </div>

                  <div class="story-content">
              <div class="logo-section">
                <div class="logo-container">
                  <WebCoreLogo :animated="true" :size="120" animationType="full" class="main-logo" />
                      </div>
                <h1 class="brand-name">
                  <span class="web-text">Web</span><span class="core-text">Core</span>
                </h1>
                <p class="brand-tagline">Digital Agency</p>
            </div>

              <div class="title-section">
                <h2 class="main-title">
                  –ß–æ–º—É –æ–±–∏—Ä–∞—é—Ç—å
                  <span class="highlight-text">WebCore?</span>
                </h2>
                <p class="subtitle">–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ –Ω–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏</p>
            </div>

              <div class="cta-section" style="transform: translateY(-20px);">
                <div class="swipe-indicator">
                  <Icon name="mdi:gesture-swipe-right" size="lg" />
                  <span>Swipe to explore</span>
                    </div>
                  </div>
                      </div>
                      </div>
                    </div>
        <div class="story-label">Story 1/7 - –¢–∏—Ç—É–ª—å–Ω–∞</div>
            </div>

      <!-- Advantage Stories -->
      <div 
        v-for="(story, index) in advantageStories" 
        :key="index" 
        class="story-item"
      >
        <div class="story-frame">
          <div class="story advantage-story" :class="`story-${index + 1}`">
            <div class="story-background" :class="`bg-${index + 1}`">
              <div class="gradient-overlay" :class="`overlay-${index + 1}`"></div>
              <div class="pattern-overlay"></div>
                    </div>
            
                  <div class="story-content">
              <div class="advantage-header">
                <div class="advantage-icon">
                  <Icon :name="story.icon" size="xl" />
                      </div>
                <div class="advantage-number">0{{ index + 1 }}</div>
            </div>

              <div class="advantage-content">
                <h3 class="advantage-title">{{ story.title }}</h3>
                <p class="advantage-description">{{ story.description }}</p>
                
                <div class="advantage-stats" v-if="story.stats">
                  <div class="stat-item" v-for="(stat, statIndex) in story.stats" :key="statIndex">
                    <div class="stat-number">{{ stat.number }}</div>
                    <div class="stat-label">{{ stat.label }}</div>
              </div>
            </div>

                <div class="advantage-features" v-if="story.features">
                  <div class="feature-item" v-for="(feature, featureIndex) in story.features" :key="featureIndex">
                    <Icon name="mdi:check-circle" size="md" />
                    <span>{{ feature }}</span>
        </div>
      </div>
    </div>

              <div class="cta-footer">
                <button class="cta-btn" @click="openContactModal">
                  <Icon name="mdi:send" size="md" />
                  –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è
        </button>
              </div>
              </div>
            </div>
                </div>
        <div class="story-label">Story {{ index + 2 }}/7 - {{ story.title }}</div>
            </div>
          </div>

    <!-- Download Instructions -->
    <div class="download-instructions">
      <h3>–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:</h3>
      <ul>
        <li>–ö–æ–∂–Ω–∞ story –º–∞—î —Ä–æ–∑–º—ñ—Ä 375x667px (9:16)</li>
        <li>–ó–±–µ—Ä–µ–∂—ñ—Ç—å –∫–æ–∂–Ω—É story —è–∫ –æ–∫—Ä–µ–º–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
        <li>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤ Instagram Stories –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ</li>
        <li>–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ (–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è, –∫–Ω–æ–ø–∫–∏)</li>
      </ul>
    </div>
  </div>
</template>

<script setup lang="ts">
import Icon from '../../components/Icon.vue'
import WebCoreLogo from '../../components/WebCoreLogo.vue'
import { useModal } from '../../composables/useModal'

const { openModal } = useModal()

// Advantage stories data (without title story)
const advantageStories = [
  {
    icon: 'mdi:rocket-launch',
    title: '–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –ø—Ä–æ—î–∫—Ç—ñ–≤',
    description: '–†–æ–∑–ø–æ—á–∏–Ω–∞—î–º–æ —Ä–æ–∑—Ä–æ–±–∫—É –≤–∂–µ —á–µ—Ä–µ–∑ 24 –≥–æ–¥–∏–Ω–∏ –ø—ñ—Å–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π',
    stats: [
      { number: '24h', label: '–î–æ —Å—Ç–∞—Ä—Ç—É' },
      { number: '1-6', label: '–¢–∏–∂–Ω—ñ–≤ —Ä–æ–∑—Ä–æ–±–∫–∏' }
    ],
    features: [
      '–î–µ—Ç–∞–ª—å–Ω–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ',
      '–®–≤–∏–¥–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è',
      'Agile –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è'
    ]
  },
  {
    icon: 'mdi:shield-check',
    title: '–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ',
    description: '60 –¥–Ω—ñ–≤ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫',
    stats: [
      { number: '60', label: '–î–Ω—ñ–≤ –≥–∞—Ä–∞–Ω—Ç—ñ—ó' },
      { number: '99.9%', label: 'Uptime' }
    ],
    features: [
      '–ü–æ–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º',
      '–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –ø—Ä–∞–≤–∫–∏',
      '–¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞'
    ]
  },
  {
    icon: 'mdi:trending-up',
    title: '–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —â–æ –≤–∏–¥–Ω–æ',
    description: '–ù–∞—à—ñ –∫–ª—ñ—î–Ω—Ç–∏ –≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –∑–±—ñ–ª—å—à—É—é—Ç—å –ø—Ä–æ–¥–∞–∂—ñ –Ω–∞ 150%',
    stats: [
      { number: '+150%', label: '–†—ñ—Å—Ç –ø—Ä–æ–¥–∞–∂—ñ–≤' },
      { number: '300+', label: '–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤' }
    ],
    features: [
      'SEO –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è',
      '–ö–æ–Ω–≤–µ—Ä—Å—ñ–π–Ω–∏–π –¥–∏–∑–∞–π–Ω',
      '–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–∏'
    ]
  },
  {
    icon: 'mdi:account-group',
    title: '–ö–æ–º–∞–Ω–¥–∞ –µ–∫—Å–ø–µ—Ä—Ç—ñ–≤',
    description: '12+ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç—ñ–≤ –∑ –¥–æ—Å–≤—ñ–¥–æ–º 5+ —Ä–æ–∫—ñ–≤ –≤ IT —Å—Ñ–µ—Ä—ñ',
    stats: [
      { number: '12+', label: '–ï–∫—Å–ø–µ—Ä—Ç—ñ–≤' },
      { number: '5+', label: '–†–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É' }
    ],
    features: [
      'Full-stack —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏',
      'UI/UX –¥–∏–∑–∞–π–Ω–µ—Ä–∏',
      'Digital –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∏'
    ]
  },
  {
    icon: 'mdi:clock-fast',
    title: '–®–≤–∏–¥–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞',
    description: '–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î–º–æ –Ω–∞ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–æ—Ç—è–≥–æ–º 2 –≥–æ–¥–∏–Ω, –ø—Ä–∞—Ü—é—î–º–æ 24/7',
    stats: [
      { number: '2h', label: '–ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ' },
      { number: '24/7', label: '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞' }
    ],
    features: [
      '–¶—ñ–ª–æ–¥–æ–±–æ–≤–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞',
      '–®–≤–∏–¥–∫–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º',
      '–†–µ–≥—É–ª—è—Ä–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è'
    ]
  },
  {
    icon: 'mdi:currency-usd',
    title: '–ü—Ä–æ–∑–æ—Ä–∞ —Ü—ñ–Ω–∞',
    description: '–§—ñ–∫—Å–æ–≤–∞–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –±–µ–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤ —Ç–∞ –¥–æ–ø–ª–∞—Ç',
    stats: [
      { number: '0%', label: '–ü—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –¥–æ–ø–ª–∞—Ç' },
      { number: '100%', label: '–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å' }
    ],
    features: [
      '–î–µ—Ç–∞–ª—å–Ω–∞ –∫–æ—à—Ç–æ—Ä–∏—Å–Ω–∞',
      '–§—ñ–∫—Å–æ–≤–∞–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∏',
      '–ü–æ–µ—Ç–∞–ø–Ω–∞ –æ–ø–ª–∞—Ç–∞'
    ]
  }
]

const openContactModal = () => {
  openModal('contact')
}

// Download all stories as images in ZIP
const downloadAllStories = async () => {
  try {
    // –î–∏–Ω–∞–º—ñ—á–Ω–æ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
    const [{ default: html2canvas }, { default: JSZip }] = await Promise.all([
      import('html2canvas' as any),
      import('jszip' as any)
    ])
    
    const zip = new JSZip()
    const stories = document.querySelectorAll('.story-frame .story')
    
    // –ü–æ–∫–∞–∑—É—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    const button = document.querySelector('.download-all-btn') as HTMLButtonElement
    if (button) {
      button.disabled = true
      button.innerHTML = '<span class="spinner"></span> –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–∞—Ä—Ç–∏–Ω–æ–∫...'
    }
    
    // –ì–µ–Ω–µ—Ä—É—î–º–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó story
    for (let i = 0; i < stories.length; i++) {
      const story = stories[i] as HTMLElement
      
      // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å
      if (button) {
        const progress = Math.round(((i + 1) / stories.length) * 100)
        button.innerHTML = `<span class="spinner"></span> –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è ${progress}%...`
      }
      
      // –ö–ª–æ–Ω—É—î–º–æ –µ–ª–µ–º–µ–Ω—Ç –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
      const clonedStory = story.cloneNode(true) as HTMLElement
      
      // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É
      const container = document.createElement('div')
      container.style.position = 'fixed'
      container.style.top = '-9999px'
      container.style.left = '-9999px'
      container.style.width = '1080px'
      container.style.height = '1920px'
      container.style.background = '#000'
      container.style.zIndex = '-9999'
      
      // –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç
      clonedStory.style.width = '100%'
      clonedStory.style.height = '100%'
      clonedStory.style.transform = 'scale(3.6)' // –ú–∞—Å—à—Ç–∞–±—É—î–º–æ –∑ 300px –¥–æ 1080px
      clonedStory.style.transformOrigin = 'top left'
      
      container.appendChild(clonedStory)
      document.body.appendChild(container)
      
      // –ó–∞–º—ñ–Ω—é—î–º–æ SVG —ñ–∫–æ–Ω–∫–∏ –Ω–∞ inline SVG –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
      const icons = clonedStory.querySelectorAll('svg')
      icons.forEach(icon => {
        if (icon.parentElement?.tagName === 'ICON-STUB') {
          // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ Icon –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ SVG
          const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg')
          svgElement.setAttribute('viewBox', '0 0 24 24')
          svgElement.setAttribute('width', icon.getAttribute('width') || '24')
          svgElement.setAttribute('height', icon.getAttribute('height') || '24')
          svgElement.innerHTML = icon.innerHTML
          icon.parentElement.replaceWith(svgElement)
        }
      })
      
      // –ß–µ–∫–∞—î–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
      await new Promise(resolve => setTimeout(resolve, 500))
      
      // –°—Ç–≤–æ—Ä—é—î–º–æ canvas –∑ story
      const canvas = await html2canvas(container, {
        width: 1080,
        height: 1920,
        windowWidth: 1080,
        windowHeight: 1920,
        scale: 1,
        useCORS: true,
        allowTaint: true,
        backgroundColor: null, // –ü—Ä–æ–∑–æ—Ä–∏–π —Ñ–æ–Ω, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∂–µ –º–∞—î —á–æ—Ä–Ω–∏–π
        logging: false,
        foreignObjectRendering: true, // –î–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É SVG
        imageTimeout: 15000,
        onclone: (clonedDoc: Document) => {
          // –î–æ–¥–∞—Ç–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –∫–ª–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è —ñ–∫–æ–Ω–æ–∫
          const clonedIcons = clonedDoc.querySelectorAll('[data-icon]')
          clonedIcons.forEach((icon: any) => {
            icon.style.display = 'inline-block'
            icon.style.visibility = 'visible'
          })
        }
      })
      
      // –í–∏–¥–∞–ª—è—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      document.body.removeChild(container)
      
      // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ canvas –≤ blob
      const blob = await new Promise<Blob>((resolve) => {
        canvas.toBlob((blob: Blob | null) => {
          if (blob) resolve(blob)
        }, 'image/png', 0.95)
      })
      
      // –ì–µ–Ω–µ—Ä—É—î–º–æ —ñ–º'—è —Ñ–∞–π–ª—É
      let filename: string
      if (i === 0) {
        filename = '01-title-story.png'
      } else {
        const storyTitle = advantageStories[i - 1]?.title || `story-${i}`
        const cleanTitle = storyTitle.toLowerCase()
          .replace(/[^\w–∞-—è—ñ—ó—î“ë\s-]/g, '')
          .replace(/\s+/g, '-')
        filename = `${String(i + 1).padStart(2, '0')}-${cleanTitle}.png`
      }
      
      // –î–æ–¥–∞—î–º–æ —Ñ–∞–π–ª –¥–æ –∞—Ä—Ö—ñ–≤—É
      zip.file(filename, blob)
    }
    
    // –î–æ–¥–∞—î–º–æ README —Ñ–∞–π–ª –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
    const readme = `WebCore Agency - Instagram Stories Pack
========================================

–¶–µ–π –ø–∞–∫–µ—Ç –º—ñ—Å—Ç–∏—Ç—å 7 Instagram Stories –¥–ª—è –ø—Ä–æ–º–æ—Ü—ñ—ó WebCore Agency.

–§–∞–π–ª–∏:
------
01-title-story.png - –¢–∏—Ç—É–ª—å–Ω–∞ story
02-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç-–ø—Ä–æ—î–∫—Ç—ñ–≤.png - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –ø—Ä–æ—î–∫—Ç—ñ–≤
03-–≥–∞—Ä–∞–Ω—Ç—ñ—è-—è–∫–æ—Å—Ç—ñ.png - –ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ  
04-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏-—â–æ-–≤–∏–¥–Ω–æ.png - –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —â–æ –≤–∏–¥–Ω–æ
05-–∫–æ–º–∞–Ω–¥–∞-–µ–∫—Å–ø–µ—Ä—Ç—ñ–≤.png - –ö–æ–º–∞–Ω–¥–∞ –µ–∫—Å–ø–µ—Ä—Ç—ñ–≤
06-—à–≤–∏–¥–∫–∞-–ø—ñ–¥—Ç—Ä–∏–º–∫–∞.png - –®–≤–∏–¥–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
07-–ø—Ä–æ–∑–æ—Ä–∞-—Ü—ñ–Ω–∞.png - –ü—Ä–æ–∑–æ—Ä–∞ —Ü—ñ–Ω–∞

–¢–µ—Ö–Ω—ñ—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
------------------------
- –†–æ–∑–º—ñ—Ä: 1080x1920px (9:16)
- –§–æ—Ä–º–∞—Ç: PNG –∑ –≤–∏—Å–æ–∫–æ—é —è–∫—ñ—Å—Ç—é
- –ì–æ—Ç–æ–≤—ñ –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤ Instagram

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
------------
1. –ü—É–±–ª—ñ–∫—É–π—Ç–µ stories –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ (1-7)
2. –î–æ–¥–∞–π—Ç–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ Instagram:
   - –û–ø–∏—Ç—É–≤–∞–Ω–Ω—è
   - –ö–Ω–æ–ø–∫–∏ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏
   - –°—Ç—ñ–∫–µ—Ä–∏
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ö–µ—à—Ç–µ–≥–∏: #webcore #webdevelopment #digitalagency

–ö–æ–Ω—Ç–∞–∫—Ç–∏:
---------
–í–µ–±-—Å–∞–π—Ç: web-core.agency
–¢–µ–ª–µ—Ñ–æ–Ω: +380777707232
Email: support@web-core.agency

¬© 2024 WebCore Agency. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.
`
    
    zip.file('README.txt', readme)
    
    // –ì–µ–Ω–µ—Ä—É—î–º–æ ZIP –∞—Ä—Ö—ñ–≤
    if (button) {
      button.innerHTML = '<span class="spinner"></span> –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞—Ä—Ö—ñ–≤—É...'
    }
    
    const content = await zip.generateAsync({ type: 'blob' })
    
    // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    const url = URL.createObjectURL(content)
    const link = document.createElement('a')
    link.href = url
    link.download = 'webcore-instagram-stories.zip'
    document.body.appendChild(link)
    link.click()
    document.body.removeChild(link)
    URL.revokeObjectURL(url)
    
    // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫—É
    if (button) {
      button.disabled = false
      button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M5 20h14v-2H5m14-9h-3V3H8v6H5l7 7z"/></svg> –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ Stories (ZIP)'
    }
    
    console.log('Stories downloaded successfully!')
    
  } catch (error) {
    console.error('Error downloading stories:', error)
    alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ stories. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.')
    
    // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ
    const button = document.querySelector('.download-all-btn') as HTMLButtonElement
    if (button) {
      button.disabled = false
      button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M5 20h14v-2H5m14-9h-3V3H8v6H5l7 7z"/></svg> –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ Stories (ZIP)'
    }
  }
}

// SEO
useHead({
  title: 'Instagram Stories - WebCore Agency',
  meta: [
    {
      name: 'description',
      content: '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ñ Instagram Stories –ø—Ä–æ –ø–µ—Ä–µ–≤–∞–≥–∏ WebCore Agency –¥–ª—è –°–ú–ú. –ì–æ—Ç–æ–≤—ñ –∫—Ä–µ–∞—Ç–∏–≤–∏ –¥–ª—è Instagram.'
    }
  ]
})
</script>

<style scoped>
/* Stories Page Layout */
.stories-page {
  min-height: 100vh;
  background: var(--color-bg-primary);
  padding: 2rem;
}

/* Page Header */
.page-header {
  text-align: center;
  margin-bottom: 3rem;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.page-title {
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--color-text-primary);
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.page-description {
  font-size: 1.125rem;
  color: var(--color-text-secondary);
  margin: 0 0 1.5rem 0;
}

/* Download All Button */
.download-all-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 2rem;
  background: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));
  color: white;
  border: none;
  border-radius: 50px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 8px 32px rgba(139, 92, 246, 0.3);
}

.download-all-btn:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 48px rgba(139, 92, 246, 0.4);
  background: linear-gradient(135deg, var(--color-accent-secondary), var(--color-accent-tertiary));
}

.download-all-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

.download-all-btn svg {
  width: 20px;
  height: 20px;
}

/* Spinner animation */
.spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Stories Grid */
.stories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  max-width: 1400px;
  margin: 0 auto;
  justify-items: center;
}

/* Story Item */
.story-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.story-frame {
  width: 300px;
  height: 600px;
  border-radius: 24px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
  background: #000;
}

.story-frame:hover {
  transform: translateY(-8px);
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
}

.story-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-align: center;
  padding: 0.5rem 1rem;
  background: var(--color-card-bg);
  border: 1px solid var(--color-border-primary);
  border-radius: 20px;
  backdrop-filter: blur(10px);
}

.story {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Story Backgrounds */
.story-background {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
}

.title-bg {
  background: linear-gradient(135deg, 
    #8B5CF6 0%,
    #D946EF 30%,
    #F97316 60%,
    #8B5CF6 100%
  );
  background-size: 400% 400%;
  animation: gradientShift 8s ease-in-out infinite;
}

.bg-1 {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.bg-2 {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.bg-3 {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.bg-4 {
  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

.bg-5 {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.bg-6 {
  background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
}

.gradient-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, 
    rgba(0, 0, 0, 0.2) 0%,
    rgba(0, 0, 0, 0.1) 50%,
    rgba(0, 0, 0, 0.3) 100%
  );
}

.pattern-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 2px, transparent 2px),
    radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 2px, transparent 2px);
  background-size: 30px 30px;
  background-position: 0 0, 15px 15px;
  animation: patternMove 20s linear infinite;
}

/* Story Content */
.story-content {
  position: relative;
  z-index: 1;
  padding: 1.25rem 1rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  color: white;
  overflow: hidden;
}

/* Title Story Styles */
.logo-section {
  text-align: center;
  margin-bottom: 1.5rem;
}

.logo-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 1.5rem;
  padding: 1rem;
}

.main-logo {
  filter: drop-shadow(0 0 30px rgba(139, 92, 246, 0.8));
  z-index: 2;
}

.brand-name {
  font-size: 2.75rem;
  font-weight: 900;
  margin: 0;
  line-height: 1;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

.web-text {
  color: white;
}

.core-text {
  color: #FFD700;
  text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
}

.brand-tagline {
  font-size: 0.95rem;
  opacity: 0.9;
  font-weight: 400;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.8);
  margin-top: 0.5rem;
}

.title-section {
  text-align: center;
  margin: 1rem 0;
}

.main-title {
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 0.75rem;
  line-height: 1.2;
}

.highlight-text {
  color: #FFD700;
  text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
}

.subtitle {
  font-size: 1.125rem;
  opacity: 0.9;
  font-weight: 300;
}

.cta-section {
  text-align: center;
}

.swipe-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  font-size: 0.9rem;
  opacity: 0.9;
  animation: swipePulse 2s ease-in-out infinite;
  background: rgba(255, 255, 255, 0.1);
  padding: 0.75rem 1.5rem;
  border-radius: 25px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  margin-bottom: 30px;
}

/* Floating Elements for Title */
.floating-elements {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

.floating-icon {
  position: absolute;
  color: rgba(255, 255, 255, 0.6);
  animation: floatIcon 4s ease-in-out infinite;
}

.icon-1 {
  top: 15%;
  left: 10%;
  animation-delay: 0s;
}

.icon-2 {
  top: 25%;
  right: 15%;
  animation-delay: 1s;
}

.icon-3 {
  bottom: 35%;
  left: 15%;
  animation-delay: 2s;
}

.icon-4 {
  bottom: 25%;
  right: 10%;
  animation-delay: 3s;
}

.icon-5 {
  top: 45%;
  left: 5%;
  animation-delay: 4s;
}

/* Advantage Story Styles */
.advantage-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.25rem;
}

.advantage-icon {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  padding: 1rem;
  backdrop-filter: blur(10px);
}

.advantage-number {
  font-size: 2rem;
  font-weight: 900;
  opacity: 0.3;
}

.advantage-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.advantage-title {
  font-size: 1.75rem;
  font-weight: 800;
  line-height: 1.2;
  margin: 0;
}

.advantage-description {
  font-size: 1rem;
  line-height: 1.3;
  opacity: 0.9;
  margin: 0;
}

.advantage-stats {
  display: flex;
  gap: 1rem;
}

.stat-item {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 0.75rem 0.5rem;
  text-align: center;
  backdrop-filter: blur(10px);
  flex: 1;
}

.stat-number {
  font-size: 1.25rem;
  font-weight: 800;
  margin-bottom: 0.125rem;
}

.stat-label {
  font-size: 0.7rem;
  opacity: 0.8;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  line-height: 1.2;
}

.advantage-features {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  line-height: 1.3;
}

.feature-item svg {
  color: #4ade80;
  flex-shrink: 0;
}

.cta-footer {
  text-align: center;
  flex-shrink: 0;
  margin-top: auto;
}

.cta-btn {
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50px;
  color: white;
  padding: 0.75rem 1.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  margin: 0 auto;
  white-space: nowrap;
  min-width: fit-content;
}

.cta-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-2px);
}

/* Download Instructions */
.download-instructions {
  max-width: 800px;
  margin: 4rem auto 2rem;
  padding: 2rem;
  background: var(--color-card-bg);
  border: 1px solid var(--color-border-primary);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.download-instructions h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-primary);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.download-instructions h3::before {
  content: 'üì±';
  font-size: 1.25rem;
}

.download-instructions ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.download-instructions li {
  padding: 0.75rem 0;
  color: var(--color-text-secondary);
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  border-bottom: 1px solid var(--color-border-primary);
}

.download-instructions li:last-child {
  border-bottom: none;
}

.download-instructions li::before {
  content: '‚úì';
  color: var(--color-accent-primary);
  font-weight: bold;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

/* Animations */
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes logoGlow {
  0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.5)); }
  50% { filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.8)); }
}


@keyframes swipePulse {
  0%, 100% { opacity: 0.8; transform: translateX(0); }
  50% { opacity: 1; transform: translateX(5px); }
}

@keyframes floatIcon {
  0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
  25% { transform: translateY(-10px) rotate(5deg); opacity: 0.8; }
  75% { transform: translateY(-5px) rotate(-3deg); opacity: 0.7; }
}

@keyframes patternMove {
  0% { transform: translate(0, 0); }
  100% { transform: translate(30px, 30px); }
}

/* Responsive Design */
@media (max-width: 768px) {
  .stories-page {
    padding: 1rem;
  }
  
  .page-header {
    margin-bottom: 2rem;
  }
  
  .page-title {
    font-size: 2rem;
  }
  
  .page-description {
    font-size: 1rem;
  }
  
  .stories-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .story-frame {
    width: 280px;
    height: 580px;
  }
  
  .story-content {
    padding: 1rem 0.875rem;
  }
  
  .advantage-content {
    gap: 0.75rem;
  }
  
  .cta-btn {
    padding: 0.625rem 1.25rem;
    font-size: 0.85rem;
  }
  
  .download-instructions {
    margin: 2rem auto 1rem;
    padding: 1.5rem;
  }
  
  .download-instructions h3 {
    font-size: 1.25rem;
  }
  
  .main-title {
    font-size: 2rem;
  }
  
  .brand-name {
    font-size: 2.25rem;
  }
  
  .logo-container {
    margin-bottom: 1rem;
    padding: 0.75rem;
  }
  
  .advantage-title {
    font-size: 1.75rem;
  }
}

@media (max-width: 480px) {
  .stories-page {
    padding: 0.75rem;
  }
  
  .page-title {
    font-size: 1.75rem;
  }
  
  .stories-grid {
    gap: 1rem;
  }
  
  .story-frame {
    width: 260px;
    height: 520px;
  }
  
  .story-label {
    font-size: 0.75rem;
    padding: 0.375rem 0.75rem;
  }
  
  .download-instructions {
    padding: 1rem;
  }
  
  .main-title {
    font-size: 1.75rem;
  }
  
  .brand-name {
    font-size: 1.875rem;
  }
  
  .logo-container {
    margin-bottom: 0.75rem;
    padding: 0.5rem;
  }
  
  .main-logo {
    width: 100px !important;
    height: 100px !important;
  }
  
  .advantage-title {
    font-size: 1.5rem;
  }
  
  .advantage-description {
    font-size: 1rem;
  }
  
  .stat-number {
    font-size: 1.25rem;
  }
  
  .feature-item {
    font-size: 0.8rem;
  }
}
</style>
